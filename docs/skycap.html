<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Skycap - An HTTP Tracking Server</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/javascripts/all.js" type="text/javascript"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', "UA-34296486-1"]);


  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head>

  
  

  <body class="docs docs_skycap">
    <div class="container">
      <div class="row">
        <div class="span8 offset2">
          <header>
            <h1>
              <a href="/">Sky</a>
              <br class="visible-phone"/>
              <small><span class="hidden-phone">Open Source, </span>Behavioral Database</small>
            </h1>
          </header>

          <ul class="nav nav-pills">
            <li class="">
              <a href="/">Home</a>
            </li>
            <li><a class="disable hidden-phone" href="http://demo.skydb.io">Demo</a></li>
            <li class="active">
              <a href="/docs">
                <span class="hidden-phone">Documentation</span>
                <span class="visible-phone">Docs</span>
              </a>
            </li>
            <li class="">
              <a href="/blog">Blog</a>
            </li>
            <li><a class="disable hidden-phone" href="/sky-0.2.3.tar.gz">Download</a></li>
            <li>
              <a href="https://github.com/skydb/sky">
                <span class="hidden-phone">Repository</span>
                <span class="visible-phone">Repo</span>
              </a>
            </li>
          </ul>

          <hr class="soften">
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="span8 offset2">
          
            <h2>Skycap - An HTTP Tracking Server</h2>
          
          <h3>Overview</h3>

<p>The Sky gem provides one way to send events to the Sky server but it can be too intrusive for some applications.
If you are tracking events for your web site, you may want to send events through a JavaScript interface.</p>

<p>Skycap is a simple server for receiving events over HTTP and sending those events to Sky.</p>

<h3>Running Skycap</h3>

<p>Skycap is simple to use.
First, make sure your Sky server is running in one window:</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo skyd
</pre></div>
<p>And then simply install the <code>skycap</code> gem and run it using the command line.
You&#39;ll need to specify the table you want to Skycap to use.</p>
<div class="highlight"><pre><span class="nv">$ </span>gem install skycap
<span class="nv">$ </span>skycap --table<span class="o">=</span><span class="nv">my_table</span>
<span class="o">==</span> Sinatra/1.3.4 has taken the stage on 10001 <span class="k">for </span>development with backup from Thin
&gt;&gt; Thin web server <span class="o">(</span>v1.5.0 codename Knife<span class="o">)</span>
&gt;&gt; Maximum connections <span class="nb">set </span>to 1024
&gt;&gt; Listening on 0.0.0.0:10001, CTRL+C to stop
</pre></div>
<h3>Using Skycap From Your Web Page</h3>

<p>Once the Skycap server is running, you can include the <code>skycap.js</code> file and begin identifying users and tracking events.</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/skycap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">skycap</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">first_name</span><span class="o">:</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="nx">salary</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span> <span class="nx">is_friendly</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
  <span class="nx">skycap</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="s2">&quot;/signup.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">plan</span><span class="o">:</span><span class="s2">&quot;premium&quot;</span><span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
<h3>Skycap API</h3>

<h4>skycap.identify(identifier, data)</h4>

<p>This method identifies a user and associates user-level state with them.
For example, you may want to identify the user by a <code>user_id</code> in your database or by their e-mail address.
<em>You only need to call this method once.</em></p>

<p>The <code>data</code> object represents state about the user itself.
This could be their name or whether they are a paid user.
User-level data is data that changes over time and exists outside the context of an action the user is performing.</p>

<h4>skycap.track(action, data)</h4>

<p>This method tracks a specific action that has occurred.
This could be the web page that the user is on or it could be a link that is clicked.</p>

<p>The first argument is the name of the action.
The second argument is action-level data.
Action-level data is any data that exists only within the context of this specific action.
For example, a <code>purchase</code> action could have <code>purchase_amount</code>.</p>

<p><br/>
<a href="skybox.html">Â« Prev <span class="hidden-phone">(Exploring Your Data with Skybox)</span></a></p>

        </div>
      </div>
    </div><!-- /container -->
    
    
    
    <footer>
    </footer>
  </body>
</html>
